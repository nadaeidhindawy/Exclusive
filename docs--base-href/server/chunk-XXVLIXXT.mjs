import './polyfills.server.mjs';
import{c as U,d as z,e as J,f as R}from"./chunk-LWE6X5SK.mjs";import{a as N,b as X}from"./chunk-WTCM3X44.mjs";import{a as q,c as G,g as H,l as K}from"./chunk-CUYKWZQN.mjs";import{a as j}from"./chunk-UIO7WO6Y.mjs";import"./chunk-GTSSCL6B.mjs";import{a as Q}from"./chunk-KJJKOJFW.mjs";import"./chunk-CBYSDMSX.mjs";import{l as $}from"./chunk-DSEGMVXO.mjs";import{Bb as c,Bc as I,Cb as _,Cc as O,Db as E,Eb as W,Fb as k,Gb as D,Ib as M,Jb as V,Kb as B,La as A,Ob as p,Pa as o,Pb as T,Qb as C,W as u,Z as y,cb as P,eb as w,ha as f,ia as h,ib as g,jb as F,kb as L,lb as b,mb as n,nb as r,ob as s,rb as x,tb as v,ub as l}from"./chunk-QOKD6OM2.mjs";import"./chunk-5XUXGTUW.mjs";var Y=(i,d)=>d.id,Z=i=>["/details",i],ee=()=>[1,2,3,4,5];function te(i,d){if(i&1){let e=x();n(0,"span",19),v("click",function(){f(e);let a=l().$implicit,m=l();return h(m.AddWishList(a.id))}),s(1,"i",20),r()}}function ie(i,d){if(i&1){let e=x();n(0,"span",19),v("click",function(){f(e);let a=l().$implicit,m=l();return h(m.removeFromWishList(a.id))}),s(1,"i",21),r()}}function ne(i,d){i&1&&(n(0,"span"),s(1,"i",22),r())}function re(i,d){i&1&&s(0,"i",16)}function oe(i,d){if(i&1){let e=x();n(0,"div",8)(1,"div",9)(2,"div")(3,"div",10),P(4,te,2,0,"span")(5,ie,2,0,"span"),r(),n(6,"div",11),s(7,"img",12),r(),n(8,"h3",13),c(9),p(10,"sale"),r(),n(11,"h4",14),c(12),p(13,"termtext"),r(),n(14,"div")(15,"span",15),c(16),p(17,"currency"),r()(),n(18,"div"),L(19,ne,2,0,"span",null,F),P(21,re,1,0,"i",16),n(22,"span",17),c(23),r()()(),n(24,"button",18),v("click",function(){let a=f(e).$implicit,m=l();return h(m.addCart(a.id))}),c(25,"Add to Cart"),r()()()}if(i&2){let e=d.$implicit,t=l();o(4),g(t.wishListData.includes(e.id)?-1:4),o(),g(t.wishListData.includes(e.id)?5:-1),o(),w("routerLink",B(17,Z,e.id)),o(),w("src",e.imageCover,A)("alt",e.title),o(2),_(T(10,10,e.category.name)),o(3),_(C(13,12,e.title,2)),o(4),_(T(17,15,e.price)),o(3),b(V(19,ee).slice(0,e.ratingsAverage)),o(2),g(e.ratingsAverage%1!==0?21:-1),o(2),_(e.ratingsAverage)}}var ye=(()=>{class i{_ProductsService=u(N);_ToastrService=u(X);_CartService=u(Q);_WishListService=u(j);getAllProductSub;date=new Date;ngOnInit(){this.getAllProduct(),this._WishListService.getProductWishlist().subscribe({next:e=>{this.wishListData=e.data.map(t=>t._id)}})}productsList=[];wishListData=[];AddWishList(e){this._WishListService.AddProductToWishlist(e).subscribe({next:t=>{this._ToastrService.success(t.message,"Added"),localStorage.setItem("red","text-red-500"),this.wishListData=t.data,console.log(this.wishListData)}})}removeFromWishList(e){this._WishListService.removeWishlist(e).subscribe({next:t=>{this.wishListData=t.data,console.log(this.wishListData),this._ToastrService.warning(t.message,"Deleted")}})}getAllProduct(){this.getAllProductSub=this._ProductsService.getAllProducts().subscribe({next:e=>{console.log(e.data),this.productsList=e.data}})}addCart(e){this._CartService.addProductToCart(e).subscribe({next:t=>{console.log(t),this._ToastrService.success(t.message,"Added",{progressBar:!0,timeOut:2e3})}})}text="";static \u0275fac=function(t){return new(t||i)};static \u0275cmp=y({type:i,selectors:[["app-product"]],standalone:!0,features:[M],decls:14,vars:8,consts:[[1,"p-5","m-5"],["routerLink","/home",1,"fs-2","text-main","d-flex","justify-content-end"],[1,"fa-solid","fa-left-long"],[1,"fw-bold","text-main"],[1,"h4","fw-bold"],[1,"fa-solid","fa-magnifying-glass","text-muted"],["type","search","placeholder","search by name ",1,"form-control","mr-sm-2","w-50","d-inline","my-3",3,"ngModelChange","ngModel"],[1,"row","g-3"],[1,"col-md-3"],[1,"product","p-2"],[1,"position-absolute","fs-4"],[3,"routerLink"],[1,"w-75","m-auto","d-grid",3,"src","alt"],[1,"small","fw-bold","text-main","pt-2"],[1,"h6"],[1,"text-main","fw-bold"],[1,"fa-solid","fa-star-half","rating-color"],[1,"text-muted","px-1"],[1,"btn-main2","mt-2","w-100",3,"click"],[3,"click"],[1,"fa-regular","fa-heart"],[1,"fa-solid","fa-heart","text-danger"],[1,"fas","fa","fa-star","rating-color"]],template:function(t,a){t&1&&(n(0,"section",0)(1,"span",1),s(2,"i",2),r(),n(3,"h2",3),c(4,"Our Products"),r(),n(5,"p",4),c(6),p(7,"date"),r(),s(8,"i",5),n(9,"input",6),D("ngModelChange",function(S){return k(a.text,S)||(a.text=S),S}),r(),n(10,"div",7),L(11,oe,26,20,"div",8,Y),p(13,"search"),r()()),t&2&&(o(6),E(" ",C(7,2,a.date,"medium"),""),o(3),W("ngModel",a.text),o(2),b(C(13,5,a.productsList,a.text)))},dependencies:[U,$,J,K,q,G,H,z,R,O,I]})}return i})();export{ye as ProductComponent};
