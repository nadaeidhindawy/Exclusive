import{a as V}from"./chunk-UCAWUPEJ.js";import{g as T,h as F}from"./chunk-WX53RPQ5.js";import{$ as h,Ab as a,Bb as x,Cb as v,Hb as E,Jb as I,Ka as S,Nb as b,Oa as c,Ob as g,Z as f,db as C,ja as p,jb as k,ka as d,kb as w,lb as n,mb as r,nb as s,qb as y,rc as D,sb as m,tb as u}from"./chunk-FA46CHI7.js";var R=(o,_)=>_.product.id,$=o=>["/order",o];function P(o,_){if(o&1){let e=y();n(0,"div",6)(1,"div",10)(2,"div"),s(3,"img",11),r()(),n(4,"div",12)(5,"div")(6,"h3",13),a(7),r(),n(8,"p",14),a(9),b(10,"currency"),r(),n(11,"button",15),m("click",function(){let t=p(e).$implicit,l=u();return d(l.removeItem(t.product.id))}),s(12,"i",16),a(13," Remove"),r()(),n(14,"div",17)(15,"span",18),m("click",function(){let t=p(e).$implicit,l=u();return d(l.updateCount(t.product.id,t.count-1))}),s(16,"i",19),r(),n(17,"span",20),a(18),r(),n(19,"span",21),m("click",function(){let t=p(e).$implicit,l=u();return d(l.updateCount(t.product.id,t.count+1))}),s(20,"i",22),r()()()()}if(o&2){let e=_.$implicit;c(3),C("src",e.product.imageCover,S)("alt",e.product.title),c(4),x(e.product.title),c(2),v("price: ",g(10,5,e.price),""),c(9),x(e.count)}}var z=(()=>{class o{_CartService=f(V);_Router=f(T);cartDetails={};ngOnInit(){this._CartService.getProductToCart().subscribe({next:e=>{console.log(e.data),this.cartDetails=e.data},error:e=>{console.log(e)}})}removeItem(e){this._CartService.deleteSpecificCartItem(e).subscribe({next:i=>{console.log(i),this.cartDetails=i.data,this._CartService.cartNumber.set(i.numOfCartItems)},error:i=>{console.log(i)}})}updateCount(e,i){i>0&&this._CartService.updateProductQuantity(e,i).subscribe({next:t=>{console.log(t),this.cartDetails=t.data},error:t=>{console.log(t)}})}clearItem(){this._CartService.clearCart().subscribe({next:e=>{console.log(e),e.message=="success"&&(this.cartDetails=e.data,this._CartService.cartNumber.set(0))},error:e=>{console.log(e)}})}shopping(){this._Router.navigate(["/product"])}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=h({type:o,selectors:[["app-cart"]],standalone:!0,features:[E],decls:16,vars:6,consts:[[1,"bg-main-light","rounded-4","shadow","p-4","m-5"],[1,"d-flex","align-items-center","justify-content-between"],[1,"h2","fw-bold"],[1,"btn","fs-3","text-danger",3,"click"],[1,"fa-solid","fa-delete-left"],[1,"text-main"],[1,"row","mb-2","border-bottom"],[1,"text-center","text-main","cr","fs-3",3,"click"],[1,"fa-solid","fa-cart-shopping"],[1,"btn-main","ms-auto","d-block",3,"routerLink"],[1,"col-md-1"],[1,"w-100",3,"src","alt"],[1,"col-md-11","d-flex","align-items-center","justify-content-between"],[1,"h5"],[1,"text-secondary","fw-bold"],[1,"text-danger","btn","p-0","cr",3,"click"],[1,"fa-regular","fa-trash-can"],[1,"d-flex","align-items-center","gap-1"],[1,"border","cr",3,"click"],[1,"fa-solid","fa-minus"],[1,"border","cr","shadow","m-2"],[1,"border","cr","bg-main","px-1",3,"click"],[1,"fa-solid","fa-plus"]],template:function(i,t){i&1&&(n(0,"section",0)(1,"div",1)(2,"h1",2),a(3,"Shop Cart"),r(),n(4,"button",3),m("click",function(){return t.clearItem()}),s(5,"i",4),r()(),n(6,"p",5),a(7),b(8,"currency"),r(),k(9,P,21,7,"div",6,R),n(11,"p",7),m("click",function(){return t.shopping()}),a(12,"Shopping Now "),s(13,"i",8),r(),n(14,"button",9),a(15,"place order"),r()()),i&2&&(c(7),v("total cart price ",g(8,2,t.cartDetails.totalCartPrice),""),c(2),w(t.cartDetails.products),c(5),C("routerLink",I(4,$,t.cartDetails._id)))},dependencies:[D,F]})}return o})();export{z as CartComponent};
